Dashboard ecommerce_minh {
  title: 'Ecommerce Dashboard'
  description: ''''''
  view: TabLayout {
    label: 'View 1'
    tab tab1: CanvasLayout {
      label: 'Overview'
      width: 1180
      height: 3000
      grid_size: 20
      block v2 {
        position: pos(60, 140, 460, 180)
      }
      block v3 {
        position: pos(660, 360, 490, 290)
      }
      block v4 {
        position: pos(60, 360, 270, 290)
      }
      block v5 {
        position: pos(360, 360, 280, 290)
      }
      block v6 {
        position: pos(560, 140, 580, 180)
      }
      block t1 {
        position: pos(60, 20, 470, 100)
      }
      block v7 {
        position: pos(60, 680, 300, 120)
      }
      block v8 {
        position: pos(420, 680, 360, 120)
      }
      block v9 {
        position: pos(840, 680, 300, 120)
      }
      block v10 {
        position: pos(60, 840, 520, 340)
      }
      block v11 {
        position: pos(620, 1020, 260, 160)
      }
      block v15 {
        position: pos(620, 840, 520, 150)
      }
      block v16 {
        position: pos(920, 1020, 220, 150)
      }
      block v17 {
        position: pos(60, 1340, 1080, 660)
      }
      block f2 {
        position: pos(60, 1220, 300, 80)
      }
      block f3 {
        position: pos(400, 1220, 340, 80)
      }
      block f4 {
        position: pos(800, 1220, 340, 80)
      }
      block v18 {
        position: pos(40, 2040, 1100, 560)
        layer: 3
      }
      block v19 {
        position: pos(40, 2640, 1100, 300)
        layer: 2
      }
      block p1 {
        position: pos(560, 20, 300, 100)
        layer: 4
      }
      mobile {
        mode: 'manual'
        block v2
        block v3
        block v4
        block v5
        block v6
        block v9
        block v7
        block f1
        block t1
        block v8
        block t2
        block f2
        block f3
        block f4
        block t3
        block v10
        block v11
      }
    }
    tab tab2: CanvasLayout {
      label: 'Customers'
      height: 920
      grid_size: 20
      mobile {
        mode: 'manual'
        block f4
        block f5
        block v20
        block v21
      }
      block f4 {
        position: pos(560, 220, 600, 80)
        layer: 1
      }
      block v20 {
        position: pos(40, 460, 500, 420)
        layer: 2
      }
      block v21 {
        position: pos(560, 460, 620, 440)
        layer: 3
      }
      block f5 {
        position: pos(560, 120, 600, 80)
        layer: 4
      }
      block t2 {
        position: pos(40, 20, 1120, 80)
        layer: 1
      }
      block v24 {
        position: pos(40, 120, 500, 280)
        layer: 5
      }
    }
    tab tab3: CanvasLayout {
      label: 'Products'
      height: 800
      grid_size: 20
      mobile {
        mode: 'auto'
      }
      block v23 {
        position: pos(20, 120, 540, 420)
        layer: 1
      }
      block t3 {
        position: pos(20, 20, 1140, 80)
        layer: 1
      }
      block v25 {
        position: pos(580, 120, 580, 420)
        layer: 2
      }
    }
  }
  block v2: VizBlock {
    label: 'Total Users'
    viz: MetricKpi {
      dataset: demo_ecommerce
      calculation goal {
        label: 'Untitled Metric'
        formula: @aql 5226;;
        calc_type: 'measure'
        data_type: 'number'
      }
      value: VizFieldFull {
        label: 'Total Users'
        ref: ref('ecommerce_users', 'id')
        aggregation: 'count distinct'
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      compare_value: VizFieldFull {
        ref: 'goal'
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        display_mode: 'compare_by_number'
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
        label {
          font_size: 24
          font_color: '#255DD4'
        }
        alignment: 'left'
        metric_value {
          font_size: 52
          font_color: '#18A59E'
        }
        compare_value {
          font_size: 25
        }
      }
    }
  }
  block v3: VizBlock {
    label: 'Revenue by Country'
    viz: ColumnChart {
      dataset: demo_ecommerce
      legend: VizFieldFull {
        ref: ref('ecommerce_countries', 'name')
        format {
          type: 'text'
        }
      }
      y_axis {
        series {
          field: VizFieldFull {
            label: ' '
            ref: ref('order_master', 'revenue')
            format {
              type: 'number'
              pattern: 'inherited'
            }
          }
          settings {
            point {
              value: 'Australia'
              color: '#E124F1FF'
            }
            point {
              value: 'France'
              color: '#18D3F9FF'
            }
            point {
              value: 'Germany'
              color: '#F1FB0EFF'
            }
            point {
              value: 'India'
              color: '#C457C6FF'
            }
            point {
              value: 'Indonesia'
              color: '#9B1995'
            }
            point {
              value: 'Singapore'
              color: '#E5BA4F'
            }
            point {
              value: 'South Korea'
              color: '#D25236'
            }
            point {
              value: 'United Kingdom'
              color: '#438FE8FF'
            }
            point {
              value: 'United States'
              color: '#50CAA5FF'
            }
            point {
              value: 'Vietnam'
              color: '#123986FF'
            }
          }
        }
      }
      settings {
        row_limit: 10000
        legend_label: 'right'
        x_axis_label: 'Revenue by Country'
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
    settings {
      hide_label: true
    }
  }
  block v4: VizBlock {
    label: 'Orders overtime'
    viz: LineChart {
      dataset: demo_ecommerce
      x_axis: VizFieldFull {
        ref: ref('order_master', 'order_created_at')
        transformation: 'datetrunc month'
        format {
          type: 'date'
        }
      }
      y_axis {
        series {
          field: VizFieldFull {
            label: 'Total Orders'
            ref: ref('order_master', 'order_id')
            aggregation: 'count distinct'
            format {
              type: 'number'
              pattern: 'inherited'
            }
          }
          settings {
            color: '#438FE8FF'
          }
        }
      }
    }
    settings {
      hide_label: true
    }
  }
  block v5: VizBlock {
    label: 'Users overtime'
    viz: LineChart {
      dataset: demo_ecommerce
      x_axis: VizFieldFull {
        ref: ref('ecommerce_users', 'sign_up_at')
        transformation: 'datetrunc month'
        format {
          type: 'date'
        }
      }
      y_axis {
        series {
          field: VizFieldFull {
            ref: ref('order_master', 'count_distinct_users')
            format {
              type: 'number'
              pattern: 'inherited'
            }
          }
          settings {
            color: '#50CAA5FF'
          }
        }
      }
    }
  }
  block v6: VizBlock {
    label: 'Revenue'
    viz: MetricKpi {
      dataset: demo_ecommerce
      calculation f_09395c8 {
        label: 'Untitled Metric'
        formula: @aql order_master.revenue*1.5;;
        calc_type: 'measure'
        data_type: 'number'
      }
      value: VizFieldFull {
        ref: ref('order_master', 'revenue')
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      compare_value: VizFieldFull {
        label: 'Goal'
        ref: 'f_09395c8'
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        display_mode: 'progress'
      }
    }
    settings {
      hide_label: true
    }
  }
  block t1: TextBlock {
    content: @md # Ecommerce Dashboard;;
  }
  block v7: VizBlock {
    label: 'CountD of Order Id (dup)'
    viz: MetricKpi {
      dataset: demo_ecommerce
      filter {
        field: ref('ecommerce_orders', 'status')
        operator: 'is'
        value: 'delivered'
      }
      value: VizFieldFull {
        label: 'Delivered'
        ref: ref('order_master', 'order_id')
        aggregation: 'count distinct'
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
    settings {
      hide_label: true
    }
  }
  block v8: VizBlock {
    label: 'CountD of Order Id (dup) (dup)'
    viz: MetricKpi {
      dataset: demo_ecommerce
      filter {
        field: ref('ecommerce_orders', 'status')
        operator: 'is'
        value: 'cancelled'
      }
      value: VizFieldFull {
        label: 'Cancelled'
        ref: ref('order_master', 'order_id')
        aggregation: 'count distinct'
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
    settings {
      hide_label: true
    }
  }
  block v9: VizBlock {
    label: 'CountD of Order Id (dup) (dup) (dup)'
    viz: MetricKpi {
      dataset: demo_ecommerce
      filter {
        field: ref('ecommerce_orders', 'status')
        operator: 'is'
        value: 'refunded'
      }
      value: VizFieldFull {
        label: 'Refunded'
        ref: ref('order_master', 'order_id')
        aggregation: 'count distinct'
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
    settings {
      hide_label: true
    }
  }
  block v10: VizBlock {
    label: 'Sales'
    viz: LineChart {
      dataset: demo_ecommerce
      filter {
        field: ref('ecommerce_orders', 'status')
        operator: 'is'
        value: 'delivered'
      }
      filter {
        field: ref('order_master', 'order_created_date')
        operator: 'last'
        value: '15'
        modifier: 'day'
      }
      x_axis: VizFieldFull {
        ref: ref('order_master', 'order_created_date')
        transformation: 'datetrunc day'
        format {
          type: 'date'
        }
      }
      y_axis {
        series {
          field: VizFieldFull {
            ref: ref('order_master', 'revenue_delivered')
            format {
              type: 'number'
              pattern: '[$$]#,###'
            }
          }
          settings {
            color: '#5EB536FF'
          }
        }
      }
      settings {
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
  }
  block v11: VizBlock {
    label: 'Complete orders count'
    viz: MetricKpi {
      dataset: demo_ecommerce
      filter {
        field: ref('ecommerce_orders', 'created_date')
        operator: 'last'
        value: '2'
        modifier: 'day'
      }
      value: VizFieldFull {
        label: 'Orders'
        ref: ref('order_master', 'completed_order_count')
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      compare_value: VizPopSettings {
        field: ref('ecommerce_orders', 'created_date')
        duration: 1
        granularity: 'week'
      }
      settings {
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
    settings {
      hide_label: true
    }
  }
  block v15: VizBlock {
    label: 'Complete orders count (dup)'
    viz: MetricKpi {
      dataset: demo_ecommerce
      filter {
        field: ref('ecommerce_orders', 'created_date')
        operator: 'last'
        value: '2'
        modifier: 'day'
      }
      value: VizFieldFull {
        label: 'Revenue'
        ref: ref('order_master', 'revenue_delivered')
        format {
          type: 'number'
          pattern: '[$$]#,###'
        }
      }
      compare_value: VizPopSettings {
        field: ref('ecommerce_orders', 'created_date')
        duration: 1
        granularity: 'week'
      }
      settings {
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
    settings {
      hide_label: true
    }
  }
  block v16: VizBlock {
    label: 'Complete orders count (dup) (dup)'
    viz: MetricKpi {
      dataset: demo_ecommerce
      filter {
        field: ref('ecommerce_orders', 'created_date')
        operator: 'last'
        value: '2'
        modifier: 'day'
      }
      value: VizFieldFull {
        label: 'Customers'
        ref: ref('order_master', 'users_count')
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      compare_value: VizPopSettings {
        field: ref('ecommerce_orders', 'created_date')
        duration: 1
        granularity: 'week'
      }
      settings {
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
    settings {
      hide_label: true
    }
  }
  block v17: VizBlock {
    label: 'Sales (dup)'
    viz: PivotTable {
      dataset: demo_ecommerce
      theme {

      }
      rows: [
        VizFieldFull {
          label: 'Date'
          ref: ref('order_master', 'order_created_at')
          transformation: 'datetrunc quarter'
          format {
            type: 'date'
            pattern: 'yyyy Qq'
          }
          uname: 'datetrunc_quarter_order_created_at'
        },
        VizFieldFull {
          ref: ref('ecommerce_products', 'name')
          format {
            type: 'text'
          }
          uname: 'ecommerce_products_name'
        }
      ]
      columns: [
        VizFieldFull {
          ref: ref('ecommerce_countries', 'continent_name')
          format {
            type: 'text'
          }
        },
        VizFieldFull {
          ref: ref('order_master', 'status')
          format {
            type: 'text'
          }
        }
      ]
      values: [
        VizFieldFull {
          label: 'Total'
          ref: ref('order_master', 'gmv')
          format {
            type: 'number'
            pattern: 'inherited'
          }
          uname: 'custom_gmv'
        }
      ]
      settings {
        row_height: 'multiple_lines'
        show_row_total: true
        show_column_total: true
        conditional_formats: [
          ConditionalFormat {
            key: 'custom_gmv'
            format: SingleFormat {
              condition {
                operator: 'greater_than'
                value: 100
              }
              text_color: '#328159'
              background_color: '#B5E3CD'
            }
          }
        ]
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
        frozen_columns: 0
        column_styles: [
          ColumnStyle {
            key: 'custom_gmv'
            width: 118
          },
          ColumnStyle {
            key: 'datetrunc_quarter_order_created_at'
            width: 113
          },
          ColumnStyle {
            key: 'ecommerce_products_name'
            width: 112
          }
        ]
      }
    }
    settings {
      hide_label: true
    }
  }
  block f2: FilterBlock {
    label: 'Status'
    type: 'field'
    source: FieldFilterSource {
      dataset: demo_ecommerce
      field: ref('ecommerce_orders', 'status')
    }
    default {
      operator: 'is'
      value: []
    }
  }
  block f3: FilterBlock {
    label: 'Product Category'
    type: 'field'
    source: FieldFilterSource {
      dataset: demo_ecommerce
      field: ref('map_categories', 'category')
    }
    default {
      operator: 'is'
      value: []
    }
    settings {
      drillthrough: Drillthrough {
        enabled: true
        sources: [
          AutoDrillthroughSource {
          }
        ]
      }
    }
  }
  block f4: FilterBlock {
    label: 'Country'
    type: 'field'
    source: FieldFilterSource {
      dataset: demo_ecommerce
      field: ref('ecommerce_countries', 'name')
    }
    default {
      operator: 'is'
      value: []
    }
    settings {
      drillthrough: Drillthrough {
        enabled: true
        sources: [
          AutoDrillthroughSource {
          }
        ]
      }
    }
  }
  block v18: VizBlock {
    label: 'table'
    viz: DataTable {
      dataset: demo_ecommerce
      theme {
        table {
          general {
            font_size: 11
            cell_padding {
              top: 3
              left: 2
              bottom: 3
              right: 2
            }
          }
        }
      }
      fields: [
        VizFieldFull {
          ref: ref('ecommerce_products', 'name')
          format {
            type: 'text'
          }
          uname: 'ecommerce_products_name'
        },
        VizFieldFull {
          ref: ref('ecommerce_products', 'merchant_id')
          format {
            type: 'number'
            pattern: 'inherited'
          }
          uname: 'ecommerce_products_merchant_id'
        },
        VizFieldFull {
          ref: ref('ecommerce_products', 'price')
          format {
            type: 'number'
            pattern: 'inherited'
          }
          uname: 'ecommerce_products_price'
        },
        VizFieldFull {
          ref: ref('ecommerce_products', 'id')
          format {
            type: 'number'
            pattern: 'inherited'
          }
          uname: 'ecommerce_products_id'
        },
        VizFieldFull {
          ref: ref('ecommerce_products', 'category_id')
          format {
            type: 'number'
            pattern: 'inherited'
          }
          uname: 'ecommerce_products_category_id'
        },
        VizFieldFull {
          ref: ref('ecommerce_merchants', 'name')
          format {
            type: 'text'
          }
          uname: 'ecommerce_merchants_name'
        }
      ]
      settings {
        show_average_row: true
        show_sum_row: true
        show_row_number: true
        conditional_formats: [
          ConditionalFormat {
            key: 'ecommerce_products_price'
            format: SingleFormat {
              condition {
                operator: 'greater_than'
                value: 100
              }
              text_color: '#328159'
              background_color: '#B5E3CD'
            }
          }
        ]
        row_limit: 10000
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
        column_styles: [
          ColumnStyle {
            key: 'ecommerce_products_id'
            width: 107
          },
          ColumnStyle {
            key: '_holistics_row_number_'
            width: 56
          },
          ColumnStyle {
            key: 'ecommerce_products_name'
            width: 217
          },
          ColumnStyle {
            key: 'ecommerce_merchants_name'
            width: 304
          },
          ColumnStyle {
            key: 'ecommerce_products_price'
            width: 86
          },
          ColumnStyle {
            key: 'ecommerce_products_category_id'
            width: 165
          },
          ColumnStyle {
            key: 'ecommerce_products_merchant_id'
            width: 100
          }
        ]
      }
    }
    settings {
      hide_label: true
    }
  }
  block v19: VizBlock {
    label: 'Delivered'
    viz: MetricSheet {
      dataset: demo_ecommerce
      date_field: VizFieldFull {
        ref: ref('order_master', 'order_created_at')
        transformation: 'datetrunc year'
        format {
          type: 'date'
          pattern: 'yyyy'
        }
      }
      rows: [
        MetricSeries {
          field: VizFieldFull {
            ref: ref('order_master', 'order_count')
            format {
              type: 'number'
              pattern: 'inherited'
            }
          }
          settings {
            mark_type: 'line'
          }
        },
        MetricSeries {
          field: VizFieldFull {
            ref: ref('order_master', 'delivered_orders_count')
            format {
              type: 'number'
              pattern: 'inherited'
            }
          }
          settings {
            mark_type: 'line'
          }
        },
        MetricHeading {
          label: 'Total Revenue'
          settings {
            background_color: '#255DD4'
            text_color: '#E9EFFB'
          }
        },
        MetricSeries {
          field: VizFieldFull {
            ref: ref('order_master', 'revenue')
            format {
              type: 'number'
              pattern: 'inherited'
            }
          }
          settings {
            mark_type: 'line'
          }
        }
      ]
      settings {
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
  }
  block v20: VizBlock {
    label: 'Orders & Users demographic '
    viz: PivotTable {
      dataset: demo_ecommerce
      theme {

      }
      rows: [
        VizFieldFull {
          ref: ref('ecommerce_users', 'gender')
          format {
            type: 'text'
          }
          uname: 'ecommerce_users_gender'
        }
      ]
      columns: [
        VizFieldFull {
          ref: ref('ecommerce_users', 'age_group')
          format {
            type: 'text'
          }
        }
      ]
      values: [
        VizFieldFull {
          label: 'Order count'
          ref: ref('transform_order_items', 'ordered_users_count')
          format {
            type: 'number'
            pattern: 'inherited'
          }
        }
      ]
      settings {
        show_column_total: true
        sorts: [
          SortSetting {
            field_index: 2
            direction: 'desc'
          }
        ]
        row_limit: 10000
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
        column_styles: [
          ColumnStyle {
            key: 'ecommerce_users_gender'
            width: 149
          }
        ]
      }
    }
  }
  block v21: VizBlock {
    label: 'User info'
    viz: DataTable {
      dataset: demo_ecommerce
      theme {

      }
      fields: [
        VizFieldFull {
          ref: ref('ecommerce_users', 'full_name')
          format {
            type: 'text'
          }
        },
        VizFieldFull {
          ref: ref('ecommerce_users', 'email')
          format {
            type: 'text'
          }
        },
        VizFieldFull {
          ref: ref('ecommerce_users', 'age_group')
          format {
            type: 'text'
          }
        }
      ]
      settings {
        show_row_number: true
        row_limit: 10000
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
  }
  block f5: FilterBlock {
    label: 'Age'
    type: 'field'
    source: FieldFilterSource {
      dataset: demo_ecommerce
      field: ref('ecommerce_users', 'age_group')
    }
    default {
      operator: 'is'
      value: []
    }
  }
  block v23: VizBlock {
    label: 'Product total orders'
    viz: ColumnChart {
      dataset: demo_ecommerce
      theme {

      }
      legend: VizFieldFull {
        ref: ref('map_categories', 'parent_category')
        format {
          type: 'text'
        }
      }
      y_axis {
        settings {
          group_values_into: 5
        }
        series {
          field: VizFieldFull {
            ref: ref('order_master', 'order_count')
            format {
              type: 'number'
              pattern: 'inherited'
            }
          }
          settings {
            color_palette: 22707
            point {
              value: 'Wii'
              color: '#9B1995'
            }
            point {
              value: 'Sink'
              color: '#C457C6FF'
            }
            point {
              value: 'Xbox'
              color: '#D25236'
            }
            point {
              value: 'India'
              color: '#123986FF'
            }
            point {
              value: 'Korea'
              color: '#9B1995'
            }
            point {
              value: 'Oil 1'
              color: '#E5BA4F'
            }
            point {
              value: 'Oil 2'
              color: '#D25236'
            }
            point {
              value: 'France'
              color: '#438FE8FF'
            }
            point {
              value: 'Sofa 1'
              color: '#E5BA4F'
            }
            point {
              value: 'Sofa 2'
              color: '#D25236'
            }
            point {
              value: 'Towels'
              color: '#50CAA5FF'
            }
            point {
              value: 'iPad 1'
              color: '#123986FF'
            }
            point {
              value: 'iPad 2'
              color: '#C457C6FF'
            }
            point {
              value: 'Chips 1'
              color: '#D25236'
            }
            point {
              value: 'Clothes'
              color: '#438FE8FF'
            }
            point {
              value: 'Dresser'
              color: '#D25236'
            }
            point {
              value: 'Flour 1'
              color: '#9B1995'
            }
            point {
              value: 'Flour 2'
              color: '#E5BA4F'
            }
            point {
              value: 'Germany'
              color: '#50CAA5FF'
            }
            point {
              value: 'Vietnam'
              color: '#50CAA5FF'
            }
            point {
              value: 'Bunk Bed'
              color: '#9B1995'
            }
            point {
              value: 'Face Oil'
              color: '#438FE8FF'
            }
            point {
              value: 'King Bed'
              color: '#D25236'
            }
            point {
              value: 'KitKat 1'
              color: '#438FE8FF'
            }
            point {
              value: 'KitKat 2'
              color: '#50CAA5FF'
            }
            point {
              value: 'Nokia C1'
              color: '#C457C6FF'
            }
            point {
              value: 'Nokia C2'
              color: '#9B1995'
            }
            point {
              value: 'TV Stand'
              color: '#9B1995'
            }
            point {
              value: 'Umbrella'
              color: '#123986FF'
            }
            point {
              value: 'Wardrobe'
              color: '#C457C6FF'
            }
            point {
              value: 'Xbox 360'
              color: '#438FE8FF'
            }
            point {
              value: 'Xbox One'
              color: '#50CAA5FF'
            }
            point {
              value: 'iPhone 7'
              color: '#9B1995'
            }
            point {
              value: 'iPhone X'
              color: '#E5BA4F'
            }
            point {
              value: 'Australia'
              color: '#D25236'
            }
            point {
              value: 'Cookies 1'
              color: '#D25236'
            }
            point {
              value: 'Cookies 2'
              color: '#438FE8FF'
            }
            point {
              value: 'Face Mask'
              color: '#9B1995'
            }
            point {
              value: 'Fireplace'
              color: '#C457C6FF'
            }
            point {
              value: 'Groceries'
              color: '#50CAA5FF'
            }
            point {
              value: 'Indonesia'
              color: '#C457C6FF'
            }
            point {
              value: 'Plant Pot'
              color: '#C457C6FF'
            }
            point {
              value: 'Queen Bed'
              color: '#438FE8FF'
            }
            point {
              value: 'Singapore'
              color: '#E5BA4F'
            }
            point {
              value: 'Skin Care'
              color: '#E5BA4F'
            }
            point {
              value: 'Bean Candy'
              color: '#E5BA4F'
            }
            point {
              value: 'Body Scrub'
              color: '#123986FF'
            }
            point {
              value: 'Face Cream'
              color: '#C457C6FF'
            }
            point {
              value: 'Face Masks'
              color: '#E5BA4F'
            }
            point {
              value: 'Face Serum'
              color: '#50CAA5FF'
            }
            point {
              value: 'Nike Shoes'
              color: '#123986FF'
            }
            point {
              value: 'Puma Shoes'
              color: '#D25236'
            }
            point {
              value: 'Single Bed'
              color: '#123986FF'
            }
            point {
              value: 'Ticwatch 1'
              color: '#E5BA4F'
            }
            point {
              value: 'Ticwatch 2'
              color: '#D25236'
            }
            point {
              value: 'Chocolate 1'
              color: '#50CAA5FF'
            }
            point {
              value: 'Chocolate 2'
              color: '#123986FF'
            }
            point {
              value: 'Guess Jeans'
              color: '#438FE8FF'
            }
            point {
              value: 'H&M T-shirt'
              color: '#50CAA5FF'
            }
            point {
              value: 'LG Smart TV'
              color: '#9B1995'
            }
            point {
              value: 'Lemon Candy'
              color: '#D25236'
            }
            point {
              value: 'AFC Biscuits'
              color: '#C457C6FF'
            }
            point {
              value: 'Adidas Shoes'
              color: '#9B1995'
            }
            point {
              value: 'Banana Candy'
              color: '#123986FF'
            }
            point {
              value: 'Coffee Table'
              color: '#9B1995'
            }
            point {
              value: 'Diesel Jeans'
              color: '#50CAA5FF'
            }
            point {
              value: 'EPTM T-shirt'
              color: '#438FE8FF'
            }
            point {
              value: 'High Cabinet'
              color: '#123986FF'
            }
            point {
              value: 'Jordan Shoes'
              color: '#C457C6FF'
            }
            point {
              value: 'Misfit Vapor'
              color: '#50CAA5FF'
            }
            point {
              value: 'Outdoor Sofa'
              color: '#50CAA5FF'
            }
            point {
              value: 'Reebox Shoes'
              color: '#50CAA5FF'
            }
            point {
              value: 'Apple Watch 1'
              color: '#E5BA4F'
            }
            point {
              value: 'Apple Watch 2'
              color: '#D25236'
            }
            point {
              value: 'Baking Soda 1'
              color: '#438FE8FF'
            }
            point {
              value: 'Baking Soda 2'
              color: '#50CAA5FF'
            }
            point {
              value: 'Body Cleanser'
              color: '#50CAA5FF'
            }
            point {
              value: 'Face Cleanser'
              color: '#123986FF'
            }
            point {
              value: 'Gucci T-shirt'
              color: '#D25236'
            }
            point {
              value: 'Kindle Fire 1'
              color: '#9B1995'
            }
            point {
              value: 'Kindle Fire 2'
              color: '#E5BA4F'
            }
            point {
              value: 'Lucky T-shirt'
              color: '#438FE8FF'
            }
            point {
              value: 'Playstation 3'
              color: '#9B1995'
            }
            point {
              value: 'Playstation 4'
              color: '#E5BA4F'
            }
            point {
              value: 'Sony Smart TV'
              color: '#123986FF'
            }
            point {
              value: 'Sony Xperia 1'
              color: '#C457C6FF'
            }
            point {
              value: 'United States'
              color: '#438FE8FF'
            }
            point {
              value: 'Bedroom Mirror'
              color: '#D25236'
            }
            point {
              value: 'Converse Shoes'
              color: '#E5BA4F'
            }
            point {
              value: 'Dining Chair 1'
              color: '#123986FF'
            }
            point {
              value: 'Dining Chair 2'
              color: '#C457C6FF'
            }
            point {
              value: 'Dining Table 1'
              color: '#9B1995'
            }
            point {
              value: 'Dining Table 2'
              color: '#E5BA4F'
            }
            point {
              value: 'Face Treatment'
              color: '#123986FF'
            }
            point {
              value: 'Home Furniture'
              color: '#C457C6FF'
            }
            point {
              value: 'Smart Lighting'
              color: '#9B1995'
            }
            point {
              value: 'United Kingdom'
              color: '#D25236'
            }
            point {
              value: 'Wrangler Jeans'
              color: '#E5BA4F'
            }
            point {
              value: '10 Deep T-shirt'
              color: '#123986FF'
            }
            point {
              value: 'Bathroom Mirror'
              color: '#C457C6FF'
            }
            point {
              value: 'Body Treatments'
              color: '#C457C6FF'
            }
            point {
              value: 'Essence Lotions'
              color: '#50CAA5FF'
            }
            point {
              value: 'Lacoste T-shirt'
              color: '#E5BA4F'
            }
            point {
              value: 'Shower curtains'
              color: '#50CAA5FF'
            }
            point {
              value: 'BlackBerry Key 1'
              color: '#438FE8FF'
            }
            point {
              value: 'Chocolate Baking'
              color: '#C457C6FF'
            }
            point {
              value: 'Outdoor Lighting'
              color: '#438FE8FF'
            }
            point {
              value: 'Samsung Galaxy 1'
              color: '#C457C6FF'
            }
            point {
              value: 'Samsung Galaxy 2'
              color: '#9B1995'
            }
            point {
              value: 'Samsung Smart TV'
              color: '#E5BA4F'
            }
            point {
              value: 'Samsung Tablet 1'
              color: '#D25236'
            }
            point {
              value: 'Samsung Tablet 2'
              color: '#438FE8FF'
            }
            point {
              value: 'Sony Headphone 1'
              color: '#438FE8FF'
            }
            point {
              value: 'Sony Headphone 2'
              color: '#50CAA5FF'
            }
            point {
              value: 'Toshiba Smart TV'
              color: '#438FE8FF'
            }
            point {
              value: 'Bathroom Slippers'
              color: '#9B1995'
            }
            point {
              value: 'Face Moisturizers'
              color: '#D25236'
            }
            point {
              value: 'Mobiles & Tablets'
              color: '#9B1995'
            }
            point {
              value: 'Calvin Klein Jeans'
              color: '#E5BA4F'
            }
            point {
              value: 'Home Entertainment'
              color: '#123986FF'
            }
            point {
              value: 'Panasonic Smart TV'
              color: '#123986FF'
            }
            point {
              value: 'Chips 2. Dried Fruit'
              color: '#438FE8FF'
            }
            point {
              value: 'LG Bluetooth Earphone 1'
              color: '#123986FF'
            }
            point {
              value: 'LG Bluetooth Earphone 2'
              color: '#C457C6FF'
            }
            point {
              value: 'Samsung Bluetooth Earphone'
              color: '#123986FF'
            }
          }
        }
      }
      settings {
        row_limit: 10000
        x_axis_label: 'Product total orders'
        x_axis_show_null_datetime: true
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
    settings {
      hide_label: true
    }
  }
  block p1: PopBlock {
    label: 'Period Comparison'
    default {
      type: 'relative'
      duration: 1
      granularity: 'year'
    }
  }
  block t2: TextBlock {
    content: @md # Customers;;
  }
  block v24: VizBlock {
    label: 'Users Signed Up by Age Demographic'
    viz: ColumnChart {
      dataset: demo_ecommerce
      theme {

      }
      x_axis: VizFieldFull {
        ref: ref('ecommerce_users', 'sign_up_date')
        transformation: 'datetrunc year'
        format {
          type: 'date'
          pattern: 'yyyy'
        }
      }
      legend: VizFieldFull {
        ref: ref('ecommerce_users', 'age_group')
        format {
          type: 'text'
        }
      }
      y_axis {
        series {
          field: VizFieldFull {
            ref: ref('ecommerce_users', 'users_signed_up_count')
            format {
              type: 'number'
              pattern: 'inherited'
            }
          }
          settings {
            color_palette: 22707
            point {
              value: '1. Under 20'
              color: '#438FE8FF'
            }
            point {
              value: '4. 40 and up'
              color: '#C457C6FF'
            }
            point {
              value: '2. From 20 to 29'
              color: '#50CAA5FF'
            }
            point {
              value: '3. From 30 to 39'
              color: '#123986FF'
            }
          }
        }
      }
      settings {
        row_limit: 10000
        legend_label: 'hidden'
        x_axis_show_null_datetime: false
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
  }
  block t3: TextBlock {
    content: @md # Products
;;
  }
  block v25: VizBlock {
    label: 'Top products'
    viz: DataTable {
      dataset: demo_ecommerce
      theme {

      }
      fields: [
        VizFieldFull {
          ref: ref('ecommerce_products', 'name')
          format {
            type: 'text'
          }
        },
        VizFieldFull {
          ref: ref('ecommerce_orders', 'total_orders_count')
          format {
            type: 'number'
            pattern: 'inherited'
          }
        },
        VizFieldFull {
          ref: ref('order_master', 'revenue')
          format {
            type: 'number'
            pattern: '[$$]#,###'
          }
        }
      ]
      settings {
        show_sum_row: true
        show_row_number: true
        sorts: [
          SortSetting {
            field_index: 2
            direction: 'desc'
          }
        ]
        row_limit: 10000
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
  }
  interactions: [
    FilterInteraction {
      from: 'v2'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v3'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v4'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v5'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v6'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v7'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v8'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v9'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v10'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v11'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v15'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v16'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v17'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'f2'
      to: [
        CustomMapping {
          block: [
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'f2'
      to: [
        CustomMapping {
          block: [
            'f3',
            'f4',
            'f5'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'f3'
      to: [
        CustomMapping {
          block: [
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'f3'
      to: [
        CustomMapping {
          block: [
            'f2',
            'f4',
            'f5'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'f4'
      to: [
        CustomMapping {
          block: [
            'v23',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'f4'
      to: [
        CustomMapping {
          block: [
            'f2',
            'f3',
            'f5'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v18'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v19'
      to: [
        CustomMapping {
          block: [
            'v20',
            'v21',
            'v23',
            'v24',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v20'
      to: [
        CustomMapping {
          block: [
            'v2',
            'v3',
            'v4',
            'v5',
            'v6',
            'v7',
            'v8',
            'v9',
            'v10',
            'v11',
            'v15',
            'v16',
            'v17',
            'v18',
            'v19',
            'v23',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v21'
      to: [
        CustomMapping {
          block: [
            'v2',
            'v3',
            'v4',
            'v5',
            'v6',
            'v7',
            'v8',
            'v9',
            'v10',
            'v11',
            'v15',
            'v16',
            'v17',
            'v18',
            'v19',
            'v23',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'f5'
      to: [
        CustomMapping {
          block: [
            'v2',
            'v3',
            'v4',
            'v5',
            'v6',
            'v7',
            'v8',
            'v9',
            'v10',
            'v11',
            'v15',
            'v16',
            'v17',
            'v18',
            'v19',
            'v23',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'f5'
      to: [
        CustomMapping {
          block: [
            'f2',
            'f3',
            'f4'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v23'
      to: [
        CustomMapping {
          block: [
            'v2',
            'v3',
            'v4',
            'v5',
            'v6',
            'v7',
            'v8',
            'v9',
            'v10',
            'v11',
            'v15',
            'v16',
            'v17',
            'v18',
            'v19',
            'v20',
            'v21',
            'v24'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v24'
      to: [
        CustomMapping {
          block: [
            'v2',
            'v3',
            'v4',
            'v5',
            'v6',
            'v7',
            'v8',
            'v9',
            'v10',
            'v11',
            'v15',
            'v16',
            'v17',
            'v18',
            'v19',
            'v23',
            'v25'
          ]
          disabled: true
        }
      ]
    },
    FilterInteraction {
      from: 'v25'
      to: [
        CustomMapping {
          block: [
            'v2',
            'v3',
            'v4',
            'v5',
            'v6',
            'v7',
            'v8',
            'v9',
            'v10',
            'v11',
            'v15',
            'v16',
            'v17',
            'v18',
            'v19',
            'v20',
            'v21',
            'v24'
          ]
          disabled: true
        }
      ]
    }
  ]
  settings {
    timezone: 'Asia/Singapore'
    cache_duration: 1440
  }
  theme: H.themes.oasis
}