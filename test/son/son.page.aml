Dashboard son_marketing_demo {
  title: 'Son Marketing demo 1'
  description: ''''''
  view: CanvasLayout {
    label: 'View 1'
    width: 1230
    height: 1000
    block v1 {
      position: pos(980, 470, 180, 110)
    }
    block v3 {
      position: pos(20, 460, 340, 310)
    }
    block f1 {
      position: pos(420, 30, 180, 80)
    }
    block v6 {
      position: pos(680, 170, 200, 100)
    }
    block v7 {
      position: pos(370, 170, 180, 110)
    }
    block v8 {
      position: pos(60, 170, 200, 90)
    }
    block v10 {
      position: pos(990, 170, 190, 110)
    }
    block v11 {
      position: pos(990, 320, 190, 100)
    }
    block v13 {
      position: pos(10, 820, 200, 110)
    }
    block t1 {
      position: pos(910, 430, 300, 520)
      layer: -1
    }
    block t2 {
      position: pos(30, 140, 300, 300)
      layer: -1
    }
    block t3 {
      position: pos(340, 140, 300, 300)
      layer: -1
    }
    block t4 {
      position: pos(650, 140, 300, 300)
      layer: -1
    }
    block t5 {
      position: pos(970, 300, 230, 130)
      layer: -1
    }
    block t6 {
      position: pos(290, 790, 350, 70)
      layer: -1
    }
    block t7 {
      position: pos(970, 150, 230, 130)
      layer: -1
    }
    block t8 {
      position: pos(-10, 800, 250, 130)
      layer: -1
    }
    block t9 {
      position: pos(40, 60, 390, 50)
    }
    block v14 {
      position: pos(360, 440, 570, 310)
    }
    block v15 {
      position: pos(60, 260, 230, 110)
    }
    block v16 {
      position: pos(370, 260, 230, 120)
    }
    block v17 {
      position: pos(970, 570, 190, 200)
    }
    block v18 {
      position: pos(680, 260, 230, 120)
    }
    block t13 {
      position: pos(440, 450, 410, 120)
      layer: -2
    }
    block t14 {
      position: pos(40, 30, 330, 40)
    }
    block t15 {
      position: pos(610, 10, 350, 70)
      layer: 1
    }
    block t16 {
      position: pos(260, 880, 350, 30)
      layer: 1
    }
    block t17 {
      position: pos(650, 840, 250, 110)
      layer: 1
    }
  }
  block v1: VizBlock {
    label: 'Sum of Mark Spent'
    viz: MetricKpi {
      dataset: son_marketing_kpi
      value: VizFieldFull {
        label: 'Cost'
        ref: ref('sonht_marketing', 'mark_spent')
        aggregation: 'sum'
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        row_limit: 5000
      }
    }
    settings {
      hide_label: true
    }
  }
  block v3: VizBlock {
    label: 'Conversions gauge chart'
    viz: GaugeChart {
      dataset: son_marketing_kpi
      value: VizFieldFull {
        ref: ref('sonht_marketing', 'orders')
        aggregation: 'sum'
        format {
          type: 'number'
          pattern: '#,###'
        }
      }
      max_value: VizFieldFull {
        ref: ref('sonht_marketing', 'leads')
        aggregation: 'sum'
        format {
          type: 'number'
          pattern: '#,###0.00,"K"'
        }
      }
      settings {
        label: 'Conversions'
        suffix: ''
        row_limit: 5000
      }
    }
    settings {
      hide_label: true
    }
  }
  block f1: FilterBlock {
    label: 'Campaign'
    type: 'field'
    source: FieldFilterSource {
      dataset: son_marketing_kpi
      field: ref('sonht_marketing', 'campaign_name')
    }
    default {
      operator: 'is'
      value: 'youtube_blogger'
    }
    settings {
      input_type: 'single'
    }
  }
  block v6: VizBlock {
    label: 'CTR'
    viz: MetricKpi {
      dataset: son_marketing_kpi
      value: VizFieldFull {
        label: 'CTR'
        ref: ref('sonht_marketing', 'ctr')
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        row_limit: 5000
      }
    }
    settings {
      hide_label: true
    }
  }
  block v7: VizBlock {
    label: 'Cost (dup) (dup)'
    viz: MetricKpi {
      dataset: son_marketing_kpi
      calculation f_7b41f2c {
        label: 'CTR'
        formula: @aml sonht_marketing.clicks / sonht_marketing.impressions;;
        calc_type: 'measure'
        data_type: 'number'
      }
      value: VizFieldFull {
        label: 'Impressions'
        ref: ref('sonht_marketing', 'impressions')
        aggregation: 'sum'
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        row_limit: 5000
      }
    }
    settings {
      hide_label: true
    }
  }
  block v8: VizBlock {
    label: 'Clicks'
    viz: MetricKpi {
      dataset: son_marketing_kpi
      value: VizFieldFull {
        label: 'Clicks'
        ref: ref('sonht_marketing', 'clicks')
        aggregation: 'sum'
        format {
          type: 'number'
          pattern: '#,###'
        }
      }
      settings {
        row_limit: 5000
      }
    }
    settings {
      hide_label: true
    }
  }
  block v10: VizBlock {
    label: 'Conversion rate'
    viz: MetricKpi {
      dataset: son_marketing_kpi
      value: VizFieldFull {
        label: 'Conversion rate'
        ref: ref('sonht_marketing', 'conversion_rate')
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        row_limit: 5000
      }
    }
    settings {
      hide_label: true
    }
  }
  block v11: VizBlock {
    label: 'CPC'
    viz: MetricKpi {
      dataset: son_marketing_kpi
      value: VizFieldFull {
        ref: ref('sonht_marketing', 'cost_per_click')
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        row_limit: 5000
      }
    }
    settings {
      hide_label: true
    }
  }
  block v13: VizBlock {
    label: 'Cost per conversion'
    viz: MetricKpi {
      dataset: son_marketing_kpi
      value: VizFieldFull {
        ref: ref('sonht_marketing', 'cost_per_conversion')
        format {
          type: 'number'
          pattern: 'inherited'
        }
      }
      settings {
        row_limit: 5000
      }
    }
    settings {
      hide_label: true
    }
  }
  block t1: TextBlock {
    content: @md <div style="width: 295px; height: 380px; border-radius: 4px;box-shadow: 0 4px 8px rgba(53,89,135,.1);"></div>;;
  }
  block t2: TextBlock {
    content: @md <div style="margin:8px;width: 284px; height: 274px; border-radius: 4px;box-shadow: 0 4px 8px rgba(53,89,135,.1);background:#fdfdfd"></div>;;
  }
  block t3: TextBlock {
    content: @md <div style="margin:8px;width: 284px; height: 274px; border-radius: 4px;box-shadow: 0 4px 8px rgba(53,89,135,.1);background:#fdfdfd"></div>;;
  }
  block t4: TextBlock {
    content: @md <div style="margin:8px;width: 284px; height: 274px; border-radius: 4px;box-shadow: 0 4px 8px rgba(53,89,135,.1);background:#fdfdfd"></div>;;
  }
  block t5: TextBlock {
    content: @md <div style="width: 220px; height: 126px; border-radius: 4px; background-color: #E3DAFE"></div>;;
  }
  block t6: TextBlock {
    content: @md <div style="width: 100%; height: 100%;">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 50" 
       preserveAspectRatio="xMidYMid meet"
       style="width: 100%; height: 100%;">
    <!-- Main horizontal line -->
    <path d="M20 25 L160 25 L150 15 M160 25 L150 35" 
          fill="none" 
          stroke="#333333" 
          stroke-width="4" 
          stroke-linecap="round" 
          stroke-linejoin="round"/>
  </svg>
</div>;;
  }
  block t7: TextBlock {
    content: @md <div style="width: 220px; height: 126px; border-radius: 4px; background-color: #E3DAFE""></div>;;
  }
  block t8: TextBlock {
    content: @md <div style="width: 245px; height: 126px; border-radius: 4px; background-color: #E3DAFE""></div>;;
  }
  block t9: TextBlock {
    content: @md <div id="heading"><h2 style="font-size:32px; text-align: left">Marketing Dashboard</h2></div>;;
  }
  block v14: VizBlock {
    label: 'Cost per conversion'
    viz: AreaChart {
      dataset: son_marketing_kpi
      x_axis: VizFieldFull {
        ref: ref('sonht_marketing', 'c_date')
        transformation: 'datetrunc week'
        format {
          type: 'date'
        }
      }
      y_axis {
        settings {
          show_data_label_by: 'value'
        }
        series {
          field {
            ref: ref('sonht_marketing', 'cost_per_conversion')
            format {
              type: 'number'
              pattern: 'inherited'
            }
          }
          settings {
            color: '#5425D8FF'
            line_interpolation: 'smooth'
          }
        }
      }
      settings {
        show_data_points: true
        row_limit: 5000
        legend_label: 'hidden'
      }
    }
  }
  block v15: VizBlock {
    label: 'Clicks graph'
    viz: AreaChart {
      dataset: son_marketing_kpi
      x_axis: VizFieldFull {
        label: ' '
        ref: ref('sonht_marketing', 'c_date')
        transformation: 'datetrunc day'
        format {
          type: 'date'
          pattern: 'LL/dd'
        }
      }
      y_axis {
        settings {
          alignment: 'right'
        }
        series {
          field {
            ref: ref('sonht_marketing', 'clicks')
            aggregation: 'sum'
            format {
              type: 'number'
              pattern: '#,###0.00,,"M"'
            }
          }
          settings {
            color: '#6430F7FF'
            line_interpolation: 'smooth'
          }
        }
      }
      settings {
        row_limit: 5000
        legend_label: 'hidden'
        x_axis_label: ' '
      }
    }
    settings {
      hide_label: true
      hide_controls: true
    }
  }
  block v16: VizBlock {
    label: 'Impressions graph'
    viz: AreaChart {
      dataset: son_marketing_kpi
      x_axis: VizFieldFull {
        label: ' '
        ref: ref('sonht_marketing', 'c_date')
        transformation: 'datetrunc day'
        format {
          type: 'date'
          pattern: 'LL/dd'
        }
      }
      y_axis {
        settings {
          alignment: 'right'
        }
        series {
          field {
            ref: ref('sonht_marketing', 'impressions')
            aggregation: 'sum'
            format {
              type: 'number'
              pattern: '#,###0.00,,"M"'
            }
          }
          settings {
            color: '#6430F7FF'
            line_interpolation: 'smooth'
          }
        }
      }
      settings {
        row_limit: 5000
        legend_label: 'hidden'
        x_axis_label: ' '
      }
    }
    settings {
      hide_label: true
      hide_controls: true
    }
  }
  block v17: VizBlock {
    label: 'Cost graph'
    viz: AreaChart {
      dataset: son_marketing_kpi
      x_axis: VizFieldFull {
        label: ' '
        ref: ref('sonht_marketing', 'c_date')
        transformation: 'datetrunc day'
        format {
          type: 'date'
          pattern: 'LL/dd'
        }
      }
      y_axis {
        settings {
          alignment: 'right'
        }
        series {
          field {
            ref: ref('sonht_marketing', 'mark_spent')
            aggregation: 'sum'
            format {
              type: 'number'
              pattern: '#,###0.00,,"M"'
            }
          }
          settings {
            color: '#6430F7FF'
            line_interpolation: 'smooth'
          }
        }
      }
      settings {
        row_limit: 5000
        legend_label: 'hidden'
        x_axis_label: ' '
      }
    }
    settings {
      hide_label: true
      hide_controls: true
    }
  }
  block v18: VizBlock {
    label: 'CTR graph'
    viz: AreaChart {
      dataset: son_marketing_kpi
      x_axis: VizFieldFull {
        label: ' '
        ref: ref('sonht_marketing', 'c_date')
        transformation: 'datetrunc day'
        format {
          type: 'date'
          pattern: 'LL/dd'
        }
      }
      y_axis {
        settings {
          alignment: 'right'
        }
        series {
          field {
            ref: ref('sonht_marketing', 'ctr')
            format {
              type: 'number'
              pattern: '#,###0.00'
              group_separator: '.'
              decimal_separator: ','
            }
          }
          settings {
            color: '#6430F7FF'
            line_interpolation: 'smooth'
          }
        }
      }
      settings {
        row_limit: 5000
        legend_label: 'hidden'
        x_axis_label: ' '
      }
    }
    settings {
      hide_label: true
      hide_controls: true
    }
  }
  block t13: TextBlock {
    content: @md <div style="width: 100%; height: 100vh; background-color: #111"></div>;;
  }
  block t14: TextBlock {
    content: @md <div style="font-size:16px">Good morning,  Sonht</div>;;
  }
  block t15: TextBlock {
    content: @md <div style="width: 100%; height: 100%;">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 50" 
       preserveAspectRatio="xMidYMid meet"
       style="width: 100%; height: 100%;">
    <!-- Main horizontal line -->
    <path d="M20 25 L160 25 L150 15 M160 25 L150 35" 
          fill="none" 
          stroke="#333333" 
          stroke-width="4" 
          stroke-linecap="round" 
          stroke-linejoin="round"/>
  </svg>
</div>;;
  }
  block t16: TextBlock {
    content: @md <div style="width: 100%; height: 100%; position: relative;">
  <div style="
    position: absolute;
    top: 50%;
    left: 10%;
    right: 10%;
    height: 4px;
    background-color: #333333;
    transform: translateY(-50%);
  "></div>
  <!-- Arrow head -->
  <div style="
    position: absolute;
    top: 50%;
    right: 10%;
    width: 12px;
    height: 12px;
    border-right: 4px solid #333333;
    border-top: 4px solid #333333;
    transform: translateY(-50%) rotate(45deg);
  "></div>
</div>;;
  }
  block t17: TextBlock {
    content: @md <div style="width: 100%; height: 100%; position: relative;">
  <!-- Rectangle -->
  <div style="
    position: absolute;
    top: 50%;
    left: 0%;
    width: 100%;
    height: 100%;
    border: 4px solid #333333;
    transform: translateY(-50%);
  "></div>
</div>;;
  }
}